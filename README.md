<img width="1280" height="536" alt="image" src="https://github.com/user-attachments/assets/5c405bc8-a8c4-4d48-af8b-8f379d40de64" />

В этом проекте я реализовал развертку данного стека с фото через docker-compose.yml

❗❗❗ Проект находится в разработке и нуждается в нормальной документации. НАСТОЯТЕЛЬНО РЕКОМЕНДУЮ прочитать этот небольшой readme чтобы потом было меньше вопросов

Открываешь любую папку (хоть рабочий стол), открываешь через правую клавишу терминал, в нем вставляешь:

git clone https://github.com/kamiloid11/de1.git

❗❗❗ Перед тем как пользоваться, обязательно установи JAR необходимый для работы Spark'a и корректного запуска docker-compose, положи его в spark/jars/: (весит 300мб+, поэтому гитхаб не дает его загрузить в репо)

https://repo1.maven.org/maven2/com/amazonaws/aws-java-sdk-bundle/1.12.526/aws-java-sdk-bundle-1.12.526.jar

Далее переходишь в склонированную папку (можно также через терминал - cd de1), проверь что у тебя запущен Docker и вставь: (загрузка будет долгая)

docker-compose up -d --build

❗ Все необходимые инструкции по запускам и настройкам в папке ИНСТРУКЦИИ. Обязательна к просмотру при использовании скриптов из папки scripts!

В папке scripts присутствуют 4 скрипта:

kafka_to_minio это "верхняя ветка" с фото, стриминг изменений бд postgresql

pg_to_minio это "нижняя ветка" с фото, батчевая загрузка из бд postgresql

minio_to_clickhouse это настраиваемая передача паркетов из minio в clickhouse

kafka_producer сделал по приколу, чтобы генерировать данные в топик sensor_metrics, который нужно создать! легче всего зайти в kafka ui (localhost:8082) и там быстренько создать через + (партиций и репликай оставь 1)

❗ kafka_producer единственный скрипт, который можно запустить через питон. ВСЕ ОСТАЛЬНЫЕ нужно запускать через терминал, как объяснил в инструкциях

Обращаю внимание, что при использовании kafka_to_minio нужно зарегистрировать debezium connector, инструкция для этого прилагается

В инструкции часто присутствует фраза "в терминале". Это значит, что нужно открыть основную папку проекта и через нее открыть терминал (cmd/powershell). Либо просто открыть терминал, скопировать путь к папке проекта и через cd в нее зайти

❗ Из всех микросервисов не работает только dbt. Пока с ним не разобрался, доработаю и запушу апдейт. Как говорится Приносим извинения за предоставленные неудобства

Спасибо за уделенное время, приятного использования!
